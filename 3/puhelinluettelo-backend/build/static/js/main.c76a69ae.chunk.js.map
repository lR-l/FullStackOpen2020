{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/PersonList.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChange","PersonForm","formProps","addName","nameChange","numberChange","newName","newNumber","onSubmit","value","type","url","personServices","getPersons","axios","get","then","response","data","addPerson","person","post","deletePerson","id","delete","status","updatePerson","put","PersonList","filter","persons","deleteName","personList","name","toLowerCase","includes","length","map","className","number","onClick","Notification","message","borderColor","isError","style","App","useState","setPersons","setNewName","setNewNumber","setFilter","statusMessage","setStatusMessage","showStatusMessage","setTimeout","useEffect","PersonServices","catch","error","event","target","preventDefault","replaceAll","match","indexOf","some","targetPerson","find","window","confirm","updatedPerson","addedPerson","concat","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c76a69ae.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ onChange }) => (\r\n  <div>\r\n    filter shown with <input onChange={onChange} />\r\n  </div>\r\n);\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({ formProps: { addName, nameChange, numberChange, newName, newNumber } }) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input value={newName} onChange={nameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={numberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst url = \"/api/persons\";\r\n\r\nconst getPersons = () => {\r\n  return axios.get(url).then((response) => response.data);\r\n};\r\n\r\nconst addPerson = (person) => {\r\n  return axios.post(url, person).then((response) => response.data);\r\n};\r\n\r\nconst updatePerson = (id, person) => {\r\n  return axios.put(`${url}/${id}`, person).then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${url}/${id}`).then((response) => response.status);\r\n};\r\n\r\nconst personServices = {\r\n  getPersons,\r\n  addPerson,\r\n  deletePerson,\r\n  updatePerson,\r\n};\r\n\r\nexport default personServices;\r\n","import React from \"react\";\r\nimport \"./PersonListStyle.css\";\r\nimport \"../services/persons\";\r\n\r\nconst PersonList = ({ filter, persons, deleteName }) => {\r\n  const personList = filter\r\n    ? persons.filter((person) => {\r\n        return person.name.toLowerCase().includes(filter);\r\n      })\r\n    : persons;\r\n\r\n  return personList.length > 0 ? (\r\n    personList.map((person) => (\r\n      <div key={person.name} className=\"personDetails\">\r\n        <span className=\"personName\">{person.name}</span>\r\n        <span className=\"personNumber\">{person.number}</span>\r\n        <div className=\"buttonContainer\">\r\n          <button onClick={() => deleteName(person.id, person.name)}>Delete</button>\r\n        </div>\r\n      </div>\r\n    ))\r\n  ) : filter ? (\r\n    <p>No results</p>\r\n  ) : (\r\n    <p>Your phonebook is empty</p>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import React from \"react\";\r\nimport \"./Notifications.css\";\r\n\r\nconst Notification = ({ data }) => {\r\n  if (data.message === null) {\r\n    return null;\r\n  }\r\n\r\n  const borderColor = data.isError ? \"red\" : \"green\";\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      <span className=\"message\" style={{ borderColor: borderColor }}>\r\n        {data.message}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport PersonList from \"./components/PersonList\";\nimport PersonServices from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [statusMessage, setStatusMessage] = useState({ message: null, isError: false });\n\n  const nameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const numberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const filterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const showStatusMessage = (message, isError) => {\n    setStatusMessage({ message, isError });\n    setTimeout(() => {\n      setStatusMessage({ message: null, isError: false });\n    }, 3000);\n  };\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (\n      newName === \"\" ||\n      newNumber === \"\" ||\n      !newNumber.replaceAll(\"-\", \"\").match(/^\\d+$/) ||\n      newNumber.indexOf(\"-\") === 0 ||\n      newNumber.indexOf(\"-\") === newNumber.length - 1\n    ) {\n      showStatusMessage(\"Check details\", true);\n      return;\n    }\n\n    if (persons.some((person) => person.name.toLowerCase() === newName.toLowerCase())) {\n      const targetPerson = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase());\n      if (targetPerson.number === newNumber) {\n        showStatusMessage(\"Check Old number is same as new number\", true);\n        return;\n      }\n      if (window.confirm(`${targetPerson.name} is already added to phonebook, replace old number with new one?`)) {\n        PersonServices.updatePerson(targetPerson.id, { ...targetPerson, number: newNumber })\n          .then((updatedPerson) => {\n            setPersons(persons.map((person) => (person.id === targetPerson.id ? updatedPerson : person)));\n            setNewName(\"\");\n            setNewNumber(\"\");\n            showStatusMessage(`${targetPerson.name}'s phonenumber was updated successfully`, false);\n          })\n          .catch((error) => showStatusMessage(`Unable to update ${targetPerson.name}'s phonenumber`, true));\n      }\n    } else {\n      PersonServices.addPerson({ name: newName, number: newNumber })\n        .then((addedPerson) => {\n          setPersons(persons.concat(addedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          showStatusMessage(`${newName} added`, false);\n        })\n        .catch((error) => showStatusMessage(`Unable to add ${newName}`, true));\n    }\n  };\n\n  const deleteName = (id, name) => {\n    if (window.confirm(`Do you want to delete ${name}?`)) {\n      PersonServices.deletePerson(id)\n        .then((data) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          showStatusMessage(`${name} deleted`, false);\n        })\n        .catch((error) => {\n          console.log(error);\n          showStatusMessage(`Unable to delete ${name}`, true);\n        });\n    }\n  };\n\n  useEffect(() => {\n    PersonServices.getPersons()\n      .then((data) => {\n        setPersons(data);\n      })\n      .catch((error) => showStatusMessage(\"Unable to get phonebook data\", true));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter onChange={filterChange}></Filter>\n      <h2>Add new</h2>\n      <PersonForm formProps={{ nameChange, numberChange, addName, newName, newNumber }}></PersonForm>\n      <h2>Numbers</h2>\n      <PersonList filter={filter} persons={persons} deleteName={deleteName}></PersonList>\n      <Notification data={statusMessage}></Notification>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}